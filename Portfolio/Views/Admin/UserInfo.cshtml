@model Portfolio.Data.User
@{ Layout = "";}
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
        #logo {
            color: white;
            font-size: 40px;
            margin-right: 9px;
            margin-left: 9px;
        }

        img {
            width: 25%;
            height: 8%;
        }

        body {
            font-family: Courier New, Courier, monospace
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            box-shadow: inset 0 0 5px white;
            border-radius: 10px;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: #dc3545;
            border-radius: 10px;
        }

            /* Handle on hover */
            ::-webkit-scrollbar-thumb:hover {
                background: #c32232;
            }
    </style>
</head>
<body>
    <div style=" width: 100%; background-color: #a92330;color:white;height: 118px; position: fixed; box-shadow: 0 10px 7px 4px #a92330;">
        <div style="margin-left:2%;margin-top:2%;margin-bottom:-15px;">
            <span id="logo" class="fa fa-pinterest-p"> <span id="logo" class="fa fa-spinner"> <span id="logo" class="fa fa-registered"> <span id="logo" class="fa fa-tumblr"> <span id="logo" class="fa fa-foursquare"> <span id="logo" class="fa fa-circle-o"> <span id="logo"> L<span id="logo" class="fa fa-info-circle"> <span id="logo" class="fa fa-sun-o"></span> </span> </span> </span> </span> </span> </span> <span> </span> </span> </span></span>
            <br /> <span style="margin-left:143px;font-family:cursive!important"> Best portfolio builder.<sup class="fa fa-copyright"></sup></span>
        </div>
        <div style="float: right;margin-right: 5%;font-family: cursive;">
            <a style="text-decoration:none!important;color:white!important;margin-right:10px;" href="UserInfo">User informations</a>
            <a style="text-decoration:none!important;color:white!important;margin-right:10px;" href="GetUniversities">Universities</a>
            <a style="text-decoration:none!important;color:white!important;margin-right:10px;" href="GetSkills">Skills</a>
            @*<a class="btn btn-primary" asp-area="Identity" asp-page="/Account/Logout">Logout</a>*@
            <a asp-controller="DefaultHome" asp-action="newhome" class="btn btn-primary">back</a>
        </div>
    </div>
    <h3 style="visibility:hidden;">--</h3>
    <h3 style="text-align:center;margin-top:8%;">Personal information</h3>
    <div style="margin-left:5%;margin-right:5%;">
        <table class="table table-striped table-bordered" style="text-align:center;">
            <thead class="thead-dark">
                <tr>
                    <th>First name</th>
                    <th>Second name</th>
                    <th>Last name</th>
                    <th>Gender</th>
                    <th>Date of birth</th>
                    <th>Mobile number</th>
                    <th>Email</th>
                    <th>Address</th>
                    <th width="12%">Portfolio</th>
                </tr>
            </thead>
            <tbody>
                @{
                    foreach (var user in (List<Portfolio.Data.User>)ViewBag.Users)
                    {
                        <tr>
                            <td>@user.FirstName</td>
                            <td>@user.SecondName</td>
                            <td>@user.LastName</td>
                            <td>@user.Gender</td>
                            <td>@user.DateofBirth.ToShortDateString()</td>
                            <td>@user.MobileNumber</td>
                            <td>@user.PortfolioEmail</td>
                            <td>@user.Address</td>
                            <td><a href="Portfolio/@user.Id" target="_blank" class="btn btn-sm btn-primary">View portfolio</a></td>
                        </tr>
                    }
                }

            </tbody>
        </table>
        <br />
        <h3 style="text-align:center;">Another information</h3>
        <table class="table table-bordered table-striped" style="text-align:center">
            <thead class="thead-dark">
                <tr>
                    <th width="18%">Name</th>
                    <th>About</th>
                    <th width="18%">Vision</th>
                </tr>
            </thead>
            <tbody>
                @{
                    foreach (var user in (List<Portfolio.Data.User>)ViewBag.Users)
                    {
                        <tr>
                            <td>@user.FirstName @user.LastName</td>
                            <td>@user.About</td>
                            <td>@user.Vision</td>
                        </tr>
                    }
                }
            </tbody>
        </table>
        <br />
        <h3 style="text-align:center">Social media and business informations</h3>
        <table class="table table-bordered table-striped" style="text-align:center">
            <thead class="thead-dark">
                <tr>
                    <th width="18%">Name</th>
                    <th>Personal image</th>
                    <th>CV</th>
                    <th>Facebook</th>
                    <th>LinkedIn</th>
                    <th>Twitter</th>

                </tr>
            </thead>
            <tbody>
                @{foreach (var user in (List<Portfolio.Data.User>)ViewBag.Users)
                    {
                        <tr>
                            <td>@user.FirstName @user.LastName</td>
                            @if (user.PersonalImage == null)
                            {
                                continue;
                            }
                            <td><img src="@String.Format("data:image/gif;base64,{0}", Convert.ToBase64String(user.PersonalImage))" style="width: 135px; height: 100px" alt="Personal image" /></td>
                            <td>@user.CV</td>
                            <td><a href="@user.FacebookURL"><i class="fa fa-facebook-square" style="font-size:40px"></i></a></td>
                            <td><a href="@user.LinkedInURL"><i class="fa fa-linkedin-square" style="font-size:40px"></i></a></td>
                            <td><a href="@user.TwitterURL"><i class="fa fa-twitter-square" style="font-size:40px"></i></a></td>
                        </tr>
                    }
                }
            </tbody>
        </table>
        <br />
        <h3 style="text-align:center">Education informations</h3>
        <table class="table table-bordered table-striped" style="text-align:center">
            <thead class="thead-dark">
                <tr>
                    <th>Name</th>
                    <th>Universities</th>
                    <th>Major</th>
                    <th>Degree</th>
                    <th>Technical skills</th>
                    <th>Interpersonal skills</th>
                </tr>
            </thead>
            <tbody>
                @{foreach (var user in (List<Portfolio.Data.User>)ViewBag.Users)
                    {
                        <tr>
                            <td>@user.FirstName @user.LastName</td>
                            <td>
                                <ul>
                                    @{

                                        foreach (var uu in (List<Portfolio.Data.UserUniversity>)ViewBag.UserUniversities)
                                        {
                                            if (uu.UserId == user.Id)
                                            {
                                                foreach (var u in (List<Portfolio.Data.University>)ViewBag.Universities)
                                                {
                                                    if (u.UniversityId == uu.UniversityId)
                                                    {
                                                        <li>@u.UniversityName</li>
                                                    }
                                                }
                                            }
                                        }
                                    }
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    @{

                                        foreach (var uu in (List<Portfolio.Data.UserUniversity>)ViewBag.UserUniversities)
                                        {
                                            if (uu.UserId == user.Id)
                                            {
                                                <li>@uu.MajorName</li>
                                            }
                                        }
                                    }
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    @{

                                        foreach (var uu in (List<Portfolio.Data.UserUniversity>)ViewBag.UserUniversities)
                                        {
                                            if (uu.UserId == user.Id)
                                            {
                                                foreach (var u in (List<Portfolio.Data.University>)ViewBag.Universities)
                                                {
                                                    if (u.UniversityId == uu.UniversityId)
                                                    {

                                                        @foreach (var d in (List<Portfolio.Data.Degree>)ViewBag.Degrees)
                                                        {
                                                            if (uu.DegreeId == d.DegreeId)
                                                            {
                                                                <li>@d.DegreeName</li>
                                                            }
                                                        }


                                                    }
                                                }
                                            }
                                        }
                                    }
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    @{
                                        foreach (var uts in (List<Portfolio.Data.UserTechnicalSkill>)ViewBag.UserTechnicalSkills)
                                        {
                                            if (user.Id == uts.UserId)
                                            {
                                                foreach (var ts in (List<Portfolio.Data.TechnicalSkill>)ViewBag.TechnicalSkills)
                                                {
                                                    if (uts.TechnicalSkillId == ts.TechnicalSkillId)
                                                    {
                                                        <li>@ts.TechnicalSkillName</li>
                                                    }
                                                }
                                            }
                                        }
                                    }
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    @{
                                        foreach (var uis in (List<Portfolio.Data.UserInterpersonalSkill>)ViewBag.UserInterpersonalSkills)
                                        {
                                            if (user.Id == uis.UserId)
                                            {
                                                foreach (var ips in (List<Portfolio.Data.InterpersonalSkill>)ViewBag.InterpersonalSkills)
                                                {
                                                    if (uis.InterpersonalSkillId == ips.InterpersonalSkillId)
                                                    {
                                                        <li>@ips.InterpersonalSkillName</li>
                                                    }
                                                }
                                            }
                                        }
                                    }
                                </ul>
                            </td>
                        </tr>
                    }
                }

            </tbody>
        </table>
        <br />
        <h3 style="text-align:center">Projects informations</h3>
        <table class="table table-bordered table-striped" style="text-align:center">
            <thead class="thead-dark">
                <tr>
                    <th>Name</th>
                    <th>Project name</th>
                    <th>Project description</th>
                    <th>Project image</th>
                    <th>Project file</th>
                </tr>
            </thead>
            <tbody>
                @{foreach (var user in (List<Portfolio.Data.User>)ViewBag.Users)
                    {
                        <tr>
                            <td>@user.FirstName @user.SecondName</td>
                            <td>
                                <ul>
                                    @{
                                        foreach (var up in (List<Portfolio.Data.Project>)ViewBag.UserProjects)
                                        {
                                            if (user.Id == up.UserId)
                                            {
                                                <li>@up.ProjectName</li>
                                                <br />
                                                <br />
                                            }
                                        }
                                    }
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    @{
                                        foreach (var up in (List<Portfolio.Data.Project>)ViewBag.UserProjects)
                                        {
                                            if (user.Id == up.UserId)
                                            {
                                                <li>@up.ProjectDescription</li>
                                                <br />
                                                <br />
                                                <br />
                                            }
                                        }
                                    }
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    @{
                                        foreach (var up in (List<Portfolio.Data.Project>)ViewBag.UserProjects)
                                        {
                                            if (user.Id == up.UserId)
                                            {
                                                if (up.ProjectImage == null)
                                                    continue;
                                                <li><img src="@String.Format("data:image/gif;base64,{0}", Convert.ToBase64String(up.ProjectImage))" style="width:135px;height:100px" alt="Project image" /></li>
                                                <br />
                                            }
                                        }
                                    }
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    @{
                                        foreach (var up in (List<Portfolio.Data.Project>)ViewBag.UserProjects)
                                        {
                                            if (user.Id == up.UserId)
                                            {
                                                <li  style="margin-top:50%;margin-bottom:50%;margin-right:15px;"><a asp-controller="Admin" asp-action="GetProjectFile" asp-route-Id="@up.ProjectId" asp-data class="btn btn-primary">View</a></li>
                                            }
                                        }
                                    }
                                </ul>
                            </td>
                        </tr>
                    }
                }

            </tbody>
        </table>
    </div>
    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
    }
</body>
</html>
